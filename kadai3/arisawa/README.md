# 課題3

## 課題3-1

タイピングゲームを作ろう。

* 標準出力に英単語を出す（出すものは自由）
* 標準入力から1行受け取る
* 制限時間内に何問解けたか表示する

### 実装

時間がなくて main.go にベタッと書いてしまいました。

* 単語は `github.com/dmgk/faker` の `FakeHacker` 内のものを使っている
  * いい感じの単語を出すメソッドを調べて、そのメソッドがランダムで選ばれるようにした
* 入力を受ける `input()` 関数は第三回の講習で書いた内容とほぼ変わらず
* タイムアウトは `context.WithTimeout` を使った
* 入力とタイムアウトのチャネルの受け取りは `for` と `select` を使って実装している
  * `select` 内で `break` を使うと `select` にしか作用しなかったので `typing()` 関数にした

* 個人的に気を使った点
  * いちユーザーとしてはやる気になる単語を出題したかった
    * ので、いい感じのパッケージ見つかってよかった
  * CLIだと結構見づらいので `github.com/fatih/color` を使って文字に色をつけてみた
  * UX向上のため、連続して正解したら `N streaks!` って出すようにした

* 気になってる点
  * main.go 内とはいえ、main関数外で `os.Exit()` するのはどうなんだろうか
    * `word()` 関数で使ってる
    * パッケージ化したらちゃんと書くんだけども、一旦やっつけで書いている中で作法として気になった
  * 第三回の講習に `context.WithTimeout()` を足したくらいで、あとはUXのための追加実装
    * golang の勉強できてなくないかｗ
    * コードはシンプルなのでいいのかもしれないが

### TODO

* パッケージ分離
* テスト
* `$HOME/.cli-typing/records.json` にいい記録を保持していきたい
* 単語だけじゃなくてフレーズもやると面白いかもしれない

## 課題3-2

分割ダウンローダーを実装しよう。

* Rangeアクセスを用いる
* いくつかのゴルーチンでダウンロードしてマージする
* エラー処理を工夫する
 * golang.org/x/sync/errgourpパッケージなどを使ってみる
* キャンセルが発生した場合の実装を行う
